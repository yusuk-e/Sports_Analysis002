#!/bin/bash

#$6 絶対時間
#$6 絶対時間
#$5 チーム
#$7 選手
#$8 アクションID
#$9 ボールx
#$10 ボールy
#$11 成功or失敗

awk -F"," -v OFS=, '($8=="8" || $8=="9"){print $6}' 20151015_JPN-AUS.csv >> temp_time.csv

awk -F"," -v OFS=, '($8=="0" || $8=="1" || $8=="2" || $8=="3" || $8=="5" || $8=="11" || $8=="12" || $8=="14" || $8 =="15"){print $6,$6,$5,$7,$8,$9,$10,$17}' 20151015_JPN-AUS.csv >> temp_meta.csv

awk -F"," -v OFS=, '($1!="" && $2!="" && $3!="" && $4!="" && $5!="" && $6!="" && $7!=""){print}' temp_meta.csv >> temp_meta2.csv

#$8の詳細:
#0:2Pシュート
#1:3Pシュート
#2:ドリブル
#3:パス
#4:スティール
#5:ファール
#6:フリースロー
#7:ジャンプボール
#8:ピリオド開始
#9:ピリオド終了
#10:タイムアウト
#11:サイドプレイ
#12:エンドプレイ
#13:メンバーチェンジ
#14:移動
#15:スクリーン

cat temp_time.csv temp_meta2.csv > processed_metadata.csv

rm temp*
